
{% load  humanize %}

<table id="gemstoneTable">
    <thead>
    <tr>
        <th>
            Icon
        </th>
        <th
            hx-get="{% url 'treasure:gemstone_sorted_table' %}"
            hx-vals='{"sort_by": "name"}'
            hx-target="#gemstoneTable"
            hx-swap="outerHTML"
            role="button"
        >
            Name
        </th>
        <th
            hx-get="{% url 'treasure:gemstone_sorted_table' %}"
            hx-vals='{"sort_by": "value"}'
            hx-target="#gemstoneTable"
            hx-swap="outerHTML"
            role="button"
        >
            Value
        </th>
        <th
            hx-get="{% url 'treasure:gemstone_sorted_table' %}"
            hx-vals='{"sort_by": "clarity"}'
            hx-target="#gemstoneTable"
            hx-swap="outerHTML"
            role="button"
        >
            Clarity
        </th>
        <th
            hx-get="{% url 'treasure:gemstone_sorted_table' %}"
            hx-vals='{"sort_by": "color"}'
            hx-target="#gemstoneTable"
            hx-swap="outerHTML"
            role="button"
        >
            Color
        </th>
    </tr>
    </thead>
    <tbody>
        {% for gemstone in gemstones %}
            <tr class="gemstone-tr" onclick="window.location='{% url 'treasure:gemstone_view' gemstone.id %}';">
                <td><img src="{{ gemstone.icon.image.url }}" alt="{{ gemstone.name }}" width="32" height="32"></td>
                <td>{{ gemstone.name }}</td>
                <td>{{ gemstone.value|intcomma }} GP</td>
                <td>{{ gemstone.clarity|capfirst }}</td>
                <td>{{ gemstone.color }}</td>
            </tr>
        {% endfor %}
    </tbody>
</table>
